{
	"name": "SQL Select Raw File",
	"properties": {
		"content": {
			"query": "-- This is auto-generated code\nSELECT *\n    --jsonContent\n --> place the keys that you see in JSON documents in the WITH clause:\n       /*JSON_VALUE (jsonContent, '$.incident_number') incident_number\n       , JSON_VALUE (jsonContent, '$.exposure_number')exposure_number*/\n       \nFROM\n    OPENROWSET(\n        BULK 'https://sablobfiles.dfs.core.windows.net/externaldata/dailyFires/202110/20211027_Fires_Raw_Data.json',\n        FORMAT = 'CSV',\n        FIELDQUOTE = '0x0b',\n        FIELDTERMINATOR ='0x0b',\n        ROWTERMINATOR = '0x0b'\n    )\n    WITH (\n        jsonContent varchar(MAX)\n    ) AS [result]\n    OUTER APPLY OPENJSON(jsonContent)\n\tWITH (\n        incident_number INT '$.incident_number',\n        exposure_number INT '$.exposure_number',\n        id VARCHAR (50) '$.id',\n        address VARCHAR (500) '$.address',\n        incident_date DATE '$.incident_date',\n        call_number VARCHAR (50) '$.call_number',\n        alarm_dttm DATETIME '$.alarm_dttm',\n        arrival_dttm DATETIME '$.arrival_dttm',\n        close_dttm DATETIME '$.close_dttm',\n        city VARCHAR (50) '$.city',\n        zipcode VARCHAR (50) '$.zipcode',\n        battalion VARCHAR (50) '$.battalion',\n        station_area VARCHAR (50) '$.station_area',\n        box VARCHAR (50) '$.box',\n        suppression_units INT '$.suppression_units',\n        suppression_personnel INT '$.suppression_personnel',\n        ems_units INT '$.ems_units',\n        ems_personnel INT '$.ems_personnel',\n        other_units INT '$.other_units',\n        other_personnel INT '$.other_personnel',\n        first_unit_on_scene VARCHAR (50) '$.first_unit_on_scene',\n        estimated_property_loss INT '$.estimated_property_loss',\n        estimated_contents_loss INT '$.estimated_contents_loss',\n        fire_fatalities INT '$.fire_fatalities',\n        fire_injuries INT '$.fire_injuries',\n        civilian_fatalities INT '$.civilian_fatalities',\n        civilian_injuries INT '$.civilian_injuries',\n        number_of_alarms INT '$.number_of_alarms',\n        primary_situation VARCHAR (500) '$.primary_situation',\n        mutual_aid VARCHAR (500) '$.mutual_aid',\n        action_taken_primary VARCHAR (500) '$.action_taken_primary',\n        action_taken_secondary VARCHAR (500) '$.action_taken_secondary',\n        action_taken_other VARCHAR (500) '$.action_taken_other',\n        detector_alerted_occupants VARCHAR (50) '$.detector_alerted_occupants',\n        property_use VARCHAR (500) '$.property_use',\n        area_of_fire_origin VARCHAR (500) '$.area_of_fire_origin',\n        ignition_cause VARCHAR (500) '$.ignition_cause',\n        ignition_factor_primary VARCHAR (500) '$.ignition_factor_primary',\n        ignition_factor_secondary VARCHAR (500) '$.ignition_factor_secondary',\n        heat_source VARCHAR (500) '$.heat_source',\n        item_first_ignited VARCHAR (500) '$.item_first_ignited',\n        human_factors_associated_with_ignition VARCHAR (500) '$.human_factors_associated_with_ignition',\n        structure_type VARCHAR (500) '$.structure_type',\n        structure_status VARCHAR (500) '$.structure_status',\n        floor_of_fire_origin INT '$.floor_of_fire_origin',\n        fire_spread VARCHAR (50) '$.fire_spread',\n        no_flame_spead VARCHAR (50) '$.no_flame_spead',\n        number_of_floors_with_minimum_damage INT '$.number_of_floors_with_minimum_damage',\n        number_of_floors_with_significant_damage INT '$.number_of_floors_with_significant_damage',\n        number_of_floors_with_heavy_damage INT '$.number_of_floors_with_heavy_damage',\n        number_of_floors_with_extreme_damage INT '$.number_of_floors_with_extreme_damage',\n        detectors_present VARCHAR (50) '$.detectors_present',\n        detector_type VARCHAR (50) '$.detector_type',\n        detector_operation VARCHAR (50) '$.detector_operation',\n        detector_effectiveness VARCHAR (50) '$.detector_effectiveness',\n        detector_failure_reason VARCHAR (50) '$.detector_failure_reason',\n        automatic_extinguishing_system_present VARCHAR (50) '$.automatic_extinguishing_system_present',\n        automatic_extinguishing_sytem_type VARCHAR (50) '$.automatic_extinguishing_sytem_type',\n        automatic_extinguishing_sytem_perfomance VARCHAR (50) '$.automatic_extinguishing_sytem_perfomance',\n        automatic_extinguishing_sytem_failure_reason VARCHAR (50) '$.automatic_extinguishing_sytem_failure_reason',\n        number_of_sprinkler_heads_operating INT '$.number_of_sprinkler_heads_operating',\n        supervisor_district VARCHAR (50) '$.supervisor_district',\n        neighborhood_district VARCHAR (50) '$.neighborhood_district'\n\t);\n\n",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "FireIncidentsDW",
				"poolName": "Built-in"
			},
			"resultLimit": -1
		},
		"type": "SqlQuery"
	}
}