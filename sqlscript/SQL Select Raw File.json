{
	"name": "SQL Select Raw File",
	"properties": {
		"content": {
			"query": "-- This is auto-generated code\nSELECT TOP 100\n    --jsonContent\n --> place the keys that you see in JSON documents in the WITH clause:\n       /*JSON_VALUE (jsonContent, '$.incident_number') incident_number\n       , JSON_VALUE (jsonContent, '$.exposure_number')exposure_number*/\n       *\nFROM\n    OPENROWSET(\n        BULK 'https://sablobfiles.dfs.core.windows.net/externaldata/dailyFires/202110/20211027_Fires_Raw_Data.json',\n        FORMAT = 'CSV',\n        FIELDQUOTE = '0x0b',\n        FIELDTERMINATOR ='0x0b',\n        ROWTERMINATOR = '0x0b'\n    )\n    WITH (\n        jsonContent varchar(MAX)\n    ) AS [result]\n    OUTER APPLY OPENJSON(jsonContent)\n\tWITH (\n\t\t  incident_number INT '$.incident_number'\n\t\t, exposure_number INT '$.exposure_number'\n\t\t, id INT '$.id'\n\t\t, address VARCHAR(100) '$.address'\n\t\t, incident_date DATE '$.incident_date'\n\t\t, call_number VARCHAR(100) '$.call_number'\n\t\t, alarm_dttm DATETIME '$.alarm_dttm'\n\t\t, arrival_dttm DATETIME '$.arrival_dttm'\n\t\t, close_dttm DATETIME '$.close_dttm'\n\t\t, city VARCHAR(5) '$.city'\n\t\t, zipcode VARCHAR(5) '$.zipcode'\n\t\t, battalion VARCHAR(10) '$.battalion'\n\t\t, station_area VARCHAR(10) '$.station_area'\n\t\t, suppression_units INT '$.suppression_units'\n\t\t, suppression_personnel INT '$.suppression_personnel'\n\t\t, ems_units INT '$.ems_units'\n\t\t, ems_personnel INT '$.ems_personnel'\n\t\t, other_units INT '$.other_units'\n        , other_personnel INT '$.other_personnel'\n        , first_unit_on_scene VARCHAR(5) '$.first_unit_on_scene'\n        , fire_fatalities INT '$.fire_fatalities'\n        , fire_injuries INT '$.fire_injuries'\n        , civilian_fatalities INT '$.civilian_fatalities'\n        , civilian_injuries INT '$.civilian_injuries'\n        , number_of_alarms INT '$.number_of_alarms'\n        , primary_situation VARCHAR(500) '$.primary_situation'\n        , mutual_aid VARCHAR(100) '$.mutual_aid'\n        , action_taken_primary VARCHAR(500) '$.action_taken_primary'\n        , action_taken_secondary VARCHAR(500) '$.action_taken_secondary'\n        , action_taken_other VARCHAR(500) '$.action_taken_other'\n        , detector_alerted_occupants VARCHAR(100) '$.detector_alerted_occupants'\n        , property_use VARCHAR(500) '$.property_use'\n        , supervisor_district INT '$.supervisor_district'\n        , neighborhood_district VARCHAR(100) '$.neighborhood_district'\n\t);\n",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "FireIncidentsDW",
				"poolName": "Built-in"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}